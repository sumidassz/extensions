local Library = loadstring(game:HttpGet('https://pastebin.com/raw/qYTfV8u7'))()

local Window = Library:CreateWindow({
    Title = 'sTempestHub | [DUNGEON] Anime World',
    Center = true, 
    AutoShow = true,
})

local Tabs = {
    Main = Window:AddTab('Main'), 
}

local autoFarmGroupBox = Tabs.Main:AddLeftGroupbox('Auto Farm')
local miscGroupBox = Tabs.Main:AddLeftGroupbox('Misc')
local autoDungeonBossGroupBox = Tabs.Main:AddRightGroupbox('Auto Dungeon/Raid')

--local TabBox = Tabs.Main:AddLeftTabbox()

local mobArrayTable = {}
local function mobDropdown(dropdown)
	table.clear(mobArrayTable)
	for i, k in pairs(workspace.Client.Mobs:GetChildren()) do
		if k:FindFirstChild("HumanoidRootPart") and k:FindFirstChild("HumanoidRootPart"):FindFirstChild("DefaultHud") and k:FindFirstChild("HumanoidRootPart"):FindFirstChild("DefaultHud"):FindFirstChild("Username") then
			if not table.find(mobArrayTable, k.HumanoidRootPart.DefaultHud.Username.Text) then
				table.insert(mobArrayTable, k.HumanoidRootPart.DefaultHud.Username.Text)
				dropdown:SetValues(mobArrayTable)
			end
		end
	end
end

autoFarmGroupBox:AddToggle('AutoOFarmToggle', {
    Text = 'only Farm',
    Default = false,
    Tooltip = 'Enable/Disabled auto farm',
})

autoFarmGroupBox:AddToggle('AutoFarmToggle', {
    Text = 'Auto Farm',
    Default = false,
    Tooltip = 'Enable/Disabled auto farm',
})

autoFarmGroupBox:AddToggle('AutoSkillToggle', {
    Text = 'Auto Skill',
    Default = false,
    Tooltip = 'Enable/Disabled auto skill',
})

autoFarmGroupBox:AddDropdown('autoFarmDropdown', {

    Values = mobArrayTable,
    Default = 1, 
    Multi = true,

    Text = 'Choose the enemy',
    Tooltip = 'You can choose multiples enemys',
})

autoFarmGroupBox:AddButton('Refresh the enemies', function()
    mobDropdown(Options.autoFarmDropdown)
end)

miscGroupBox:AddToggle('AutoCollectToggle', {
    Text = 'Auto Collect',
    Default = false,
    Tooltip = 'Enable/Disabled auto collect',
})

autoDungeonBossGroupBox:AddToggle('AutoDungeonToggle', {
    Text = 'Auto Dungeon',
    Default = false,
    Tooltip = 'Enable/Disabled auto dungeon',
})

autoDungeonBossGroupBox:AddToggle('AutoBossToggle', {
    Text = 'Auto Boss',
    Default = false,
    Tooltip = 'Enable/Disabled auto boss',
})

autoDungeonBossGroupBox:AddDropdown('afterWorldDropdown', {

    Values = {"Piece World", "Dragon World", "Ninja World", "Bizarre World", "Slayer World", "Academy World"},
    Default = 1, 
    Multi = false,

    Text = 'Choose a world',
    Tooltip = 'Choose the world to TP after raid or dungeon',
})

mobDropdown(Options.autoFarmDropdown)
local function getNearestAll(array)
    local dist, thing = math.huge
    for i, v in next, workspace.Client.Mobs:GetChildren() do
        if v.HumanoidRootPart.DefaultHud.Enabled == true and table.find(array, v.HumanoidRootPart.DefaultHud.Username.Text) then
            local mag =
                (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - v.HumanoidRootPart.Position).magnitude
            if mag < dist then
                dist = mag
                thing = v
            end
        end
    end
    return thing
end
local function getNearestAlla()
    local dist, thing = math.huge
    for i, v in next, workspace.Client.Mobs:GetChildren() do
        if v.HumanoidRootPart.DefaultHud.Enabled == true then
            local mag =
                (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - v.HumanoidRootPart.Position).magnitude
            if mag < dist then
                dist = mag
                thing = v
            end
        end
    end
    return thing
end
local function autoMobFunc(array)
	for l, world in pairs(workspace.Server.Mobs:GetChildren()) do
		for i, v in pairs(workspace.Server.Mobs[tostring(world)]:GetChildren()) do
			if game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
				for _, k in pairs(workspace.Client.Mobs:GetChildren()) do
					if table.find(array, k.HumanoidRootPart.DefaultHud.Username.Text) and v.Name == k.Name and k == getNearestAll(array) and workspace.Client.Mobs:FindFirstChild(tostring(getNearestAll(array))) then
						game.ReplicatedStorage.Remotes.Server:FireServer({"MobHit", world:FindFirstChild(tostring(getNearestAll(array))), "WeaponAttack"})
						if Toggles.AutoSkillToggle.Value == true then game.ReplicatedStorage.Remotes.Server:FireServer({"Skill", "Use", world:FindFirstChild(tostring(getNearestAll(array)))}) end
						if game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame.X ~= getNearestAll(array).HumanoidRootPart.CFrame.X*0.1 and game.Players.LocalPlayer.Character.HumanoidRootPart.Position.Z ~= getNearestAll(array).HumanoidRootPart.Position.Z then
							game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(getNearestAll(array).HumanoidRootPart.Position.X, getNearestAll(array).HumanoidRootPart.Position.Y, getNearestAll(array).HumanoidRootPart.Position.Z)*CFrame.new(.1,0,0)
						end
					end
				end
			end
		end
	end
end
local function autoBossFunc(afterWorld, db)
	if #workspace.Server.Mobs.Dungeon:GetChildren() < 1 then
		for _, world in pairs(workspace.Server.Mobs:GetChildren()) do
			if #world:GetChildren() == 1 then
				for p, mobServer in pairs(world:GetChildren()) do
					for i, mobClient in pairs(workspace.Client.Mobs:GetChildren()) do
						if #workspace.Client.Mobs:GetChildren() > 1 then
							game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = mobServer.CFrame*CFrame.new(0.1,0,0)
						elseif #workspace.Client.Mobs:GetChildren() == 1 then
							game.ReplicatedStorage.Remotes.Server:FireServer({"MobHit", mobServer, "WeaponAttack"})
							if autoSkillB == true then game.ReplicatedStorage.Remotes.Server:FireServer({"Skill", "Use", mobServer}) end
							if game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame.X ~= mobClient.HumanoidRootPart.CFrame.X*0.1 and game.Players.LocalPlayer.Character.HumanoidRootPart.Position.Z ~= mobClient.HumanoidRootPart.Position.Z then
								game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(mobClient.HumanoidRootPart.Position.X, mobClient.HumanoidRootPart.Position.Y, mobClient.HumanoidRootPart.Position.Z)*CFrame.new(.1,0,0)
							end
						end
					end
				end
			end
		end
		if #workspace.Client.Mobs:GetChildren() == 0 and afterWorld ~= "" then
			game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = workspace.Server.Zones[tostring(afterWorld)].CFrame
		end
	end
end
local function autoDungeonFunc(afterWorld)
	game.ReplicatedStorage.Remotes.Server:FireServer({"Dungeon", "Enter"})
	local world = workspace.Server.Mobs.Dungeon
	local clientFolder = workspace.Client.Mobs
	for i, v in pairs(clientFolder:GetChildren()) do
		if #world:GetChildren() >= 1 then
			game.ReplicatedStorage.Remotes.Server:FireServer({"MobHit", world[getNearestAlla().Name], "WeaponAttack"})
			if Toggles.AutoSkillToggle.Value == true then game.ReplicatedStorage.Remotes.Server:FireServer({"Skill", "Use", world[getNearestAlla().Name]}) end
			game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = getNearestAlla().HumanoidRootPart.CFrame*CFrame.new(0.1,0,0)
		end
	end
	if game.Players.LocalPlayer.PlayerGui.UI.OffSet.Waves.Left.Shadow.Text == "60:58" and afterWorld ~= "" then 
		game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = workspace.Server.Zones[tostring(afterWorld)].CFrame
		wait(0.5)
		game.Players.LocalPlayer.PlayerGui.UI.OffSet.Waves.Left.Shadow.Text = "60:57"
	end
end

local mobsArraySelected = {}
table.clear(mobsArraySelected)
Options.autoFarmDropdown:OnChanged(function()
    for key, value in next, Options.autoFarmDropdown.Value do
        if not table.find(mobsArraySelected, key) then
        	table.insert(mobsArraySelected, key)
        end
    end
end)

local c1 = coroutine.create(function() while true do if Toggles.AutoFarmToggle.Value == true then autoMobFunc(mobsArraySelected) end wait() end end) coroutine.resume(c1)
local c2 = coroutine.create(function() while true do if Toggles.AutoOFarmToggle.Value == true then game.ReplicatedStorage.Remotes.Server:FireServer({"MobHit", m, "WeaponAttack"}) end wait() end end) coroutine.resume(c2)
local c3 = coroutine.create(function() while true do if Toggles.AutoCollectToggle.Value == true then for i, v in pairs(workspace.Debris:GetChildren()) do if v:FindFirstChild("UID") then v.CFrame = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame end end end wait(0.1) end end) coroutine.resume(c3)
local c4 = coroutine.create(function() while true do if Toggles.AutoBossToggle.Value == true then autoBossFunc(Options.afterWorldDropdown.Value, Toggles.AutoDungeonToggle.Value) end wait() end end) coroutine.resume(c4)
local c5 = coroutine.create(function() while true do if Toggles.AutoDungeonToggle.Value == true then autoDungeonFunc(Options.afterWorldDropdown.Value) end wait() end end) coroutine.resume(c5)

wait(1.5)

local VirtualUser=game:service'VirtualUser'
game:service'Players'.LocalPlayer.Idled:connect(function()
VirtualUser:CaptureController()
VirtualUser:ClickButton2(Vector2.new())
end)
